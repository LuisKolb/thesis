import re
import numpy as np

def clean_tweet_basic(text):
    # source: https://github.com/Fatima-Haouari/AuFIN/blob/main/code/utils.py
    if (text is None) or (text is np.nan):
        return ""
    else:
        text = re.sub(r"http\S+", " ", text)  # remove urls
        text = re.sub(r"RT ", " ", text)  # remove rt
        text = re.sub(r"@[\w]*", " ", text)  # remove handles
        text = re.sub(r"[\.\,\#_\|\:\?\?\/\=]", " ", text)  # remove special characters
        text = re.sub(r"\t", " ", text)  # remove tabs
        text = re.sub(r"\n", " ", text)  # remove line jump
        text = re.sub(r"\s+", " ", text)  # remove extra white space
        text = re.sub(r"\u201c", " ", text)  # remove â€œ character
        text = re.sub(r"\u201d", " ", text)  # remove â€œ character
        accents = re.compile(r'[\u064b-\u0652\u0640]') # harakaat and tatweel (kashida) to remove

        arabic_punc= re.compile(r'[\u0621-\u063A\u0641-\u064A\d+]+') # Keep only Arabic letters/do not remove numbers
        text=' '.join(arabic_punc.findall(accents.sub('',text)))
        text = text.strip()
        return text
    
def clean_tweet_aggressive(text):
    if (text is None) or (text is np.nan):
        return ""
    else:
        text = re.sub(r"http\S+", " ", text)  # remove urls
        text = re.sub(r"RT ", " ", text)  # remove rt
        text = re.sub(r"@[\w]*", " ", text)  # remove handles
        
        # TODO: does this improve results? hashtags are... whacky; see e.g. rumor AuRED_104
        text = re.sub(r"[\.\,\|\:\?\?\/\=]", " ", text)  # remove special characters

        text = re.sub(r"#[\w]*", " ", text)  # remove hashtags

        text = re.sub(r"\t", " ", text)  # remove tabs
        text = re.sub(r"\n", " ", text)  # remove line jump
        text = re.sub(r"\s+", " ", text)  # remove extra white space
        text = re.sub(r"\u201c", "", text)  # remove â€œ character
        text = re.sub(r"\u201d", "", text)  # remove â€ character
        text = re.sub(r"\u2018", "", text)  # remove â€˜ character
        text = re.sub(r"\u2019", "", text)  # remove â€™ character
        text = re.sub(r'\"', " ", text)  # remove " character

        # see: https://stackoverflow.com/questions/33404752/removing-emojis-from-a-string-in-python
        emojis = r"(?:[0-9#*]ï¸âƒ£|[â˜âœŠ-âœğŸ…ğŸ‚ğŸ‡ğŸ‘‚ğŸ‘ƒğŸ‘†-ğŸ‘ğŸ‘¦ğŸ‘§ğŸ‘«-ğŸ‘­ğŸ‘²ğŸ‘´-ğŸ‘¶ğŸ‘¸ğŸ‘¼ğŸ’ƒğŸ’…ğŸ’ğŸ’‘ğŸ’ªğŸ•´ğŸ•ºğŸ–ğŸ–•ğŸ––ğŸ™ŒğŸ™ğŸ›€ğŸ›ŒğŸ¤ŒğŸ¤ğŸ¤˜-ğŸ¤ŸğŸ¤°-ğŸ¤´ğŸ¤¶ğŸ¥·ğŸ¦µğŸ¦¶ğŸ¦»ğŸ§’ğŸ§“ğŸ§•ğŸ«ƒ-ğŸ«…ğŸ«°ğŸ«²-ğŸ«¸][ğŸ»-ğŸ¿]?|â›“(?:ï¸â€ğŸ’¥)?|[â›¹ğŸ‹ğŸŒğŸ•µ](?:ï¸â€[â™€â™‚]ï¸|[ğŸ»-ğŸ¿](?:â€[â™€â™‚]ï¸)?)?|â¤(?:ï¸â€[ğŸ”¥ğŸ©¹])?|ğŸ‡¦[ğŸ‡¨-ğŸ‡¬ğŸ‡®ğŸ‡±ğŸ‡²ğŸ‡´ğŸ‡¶-ğŸ‡ºğŸ‡¼ğŸ‡½ğŸ‡¿]|ğŸ‡§[ğŸ‡¦ğŸ‡§ğŸ‡©-ğŸ‡¯ğŸ‡±-ğŸ‡´ğŸ‡¶-ğŸ‡¹ğŸ‡»ğŸ‡¼ğŸ‡¾ğŸ‡¿]|ğŸ‡¨[ğŸ‡¦ğŸ‡¨ğŸ‡©ğŸ‡«-ğŸ‡®ğŸ‡°-ğŸ‡µğŸ‡·ğŸ‡º-ğŸ‡¿]|ğŸ‡©[ğŸ‡ªğŸ‡¬ğŸ‡¯ğŸ‡°ğŸ‡²ğŸ‡´ğŸ‡¿]|ğŸ‡ª[ğŸ‡¦ğŸ‡¨ğŸ‡ªğŸ‡¬ğŸ‡­ğŸ‡·-ğŸ‡º]|ğŸ‡«[ğŸ‡®-ğŸ‡°ğŸ‡²ğŸ‡´ğŸ‡·]|ğŸ‡¬[ğŸ‡¦ğŸ‡§ğŸ‡©-ğŸ‡®ğŸ‡±-ğŸ‡³ğŸ‡µ-ğŸ‡ºğŸ‡¼ğŸ‡¾]|ğŸ‡­[ğŸ‡°ğŸ‡²ğŸ‡³ğŸ‡·ğŸ‡¹ğŸ‡º]|ğŸ‡®[ğŸ‡¨-ğŸ‡ªğŸ‡±-ğŸ‡´ğŸ‡¶-ğŸ‡¹]|ğŸ‡¯[ğŸ‡ªğŸ‡²ğŸ‡´ğŸ‡µ]|ğŸ‡°[ğŸ‡ªğŸ‡¬-ğŸ‡®ğŸ‡²ğŸ‡³ğŸ‡µğŸ‡·ğŸ‡¼ğŸ‡¾ğŸ‡¿]|ğŸ‡±[ğŸ‡¦-ğŸ‡¨ğŸ‡®ğŸ‡°ğŸ‡·-ğŸ‡»ğŸ‡¾]|ğŸ‡²[ğŸ‡¦ğŸ‡¨-ğŸ‡­ğŸ‡°-ğŸ‡¿]|ğŸ‡³[ğŸ‡¦ğŸ‡¨ğŸ‡ª-ğŸ‡¬ğŸ‡®ğŸ‡±ğŸ‡´ğŸ‡µğŸ‡·ğŸ‡ºğŸ‡¿]|ğŸ‡´ğŸ‡²|ğŸ‡µ[ğŸ‡¦ğŸ‡ª-ğŸ‡­ğŸ‡°-ğŸ‡³ğŸ‡·-ğŸ‡¹ğŸ‡¼ğŸ‡¾]|ğŸ‡¶ğŸ‡¦|ğŸ‡·[ğŸ‡ªğŸ‡´ğŸ‡¸ğŸ‡ºğŸ‡¼]|ğŸ‡¸[ğŸ‡¦-ğŸ‡ªğŸ‡¬-ğŸ‡´ğŸ‡·-ğŸ‡¹ğŸ‡»ğŸ‡½-ğŸ‡¿]|ğŸ‡¹[ğŸ‡¦ğŸ‡¨ğŸ‡©ğŸ‡«-ğŸ‡­ğŸ‡¯-ğŸ‡´ğŸ‡·ğŸ‡¹ğŸ‡»ğŸ‡¼ğŸ‡¿]|ğŸ‡º[ğŸ‡¦ğŸ‡¬ğŸ‡²ğŸ‡³ğŸ‡¸ğŸ‡¾ğŸ‡¿]|ğŸ‡»[ğŸ‡¦ğŸ‡¨ğŸ‡ªğŸ‡¬ğŸ‡®ğŸ‡³ğŸ‡º]|ğŸ‡¼[ğŸ‡«ğŸ‡¸]|ğŸ‡½ğŸ‡°|ğŸ‡¾[ğŸ‡ªğŸ‡¹]|ğŸ‡¿[ğŸ‡¦ğŸ‡²ğŸ‡¼]|ğŸ„(?:â€ğŸŸ«)?|ğŸ‹(?:â€ğŸŸ©)?|[ğŸƒğŸš¶ğŸ§](?:â€(?:[â™€â™‚]ï¸(?:â€â¡ï¸)?|â¡ï¸)|[ğŸ»-ğŸ¿](?:â€(?:[â™€â™‚]ï¸(?:â€â¡ï¸)?|â¡ï¸))?)?|[ğŸ„ğŸŠğŸ‘®ğŸ‘°ğŸ‘±ğŸ‘³ğŸ‘·ğŸ’ğŸ’‚ğŸ’†ğŸ’‡ğŸ™…-ğŸ™‡ğŸ™‹ğŸ™ğŸ™ğŸš£ğŸš´ğŸšµğŸ¤¦ğŸ¤µğŸ¤·-ğŸ¤¹ğŸ¤½ğŸ¤¾ğŸ¦¸ğŸ¦¹ğŸ§ğŸ§ğŸ§”ğŸ§–-ğŸ§](?:â€[â™€â™‚]ï¸|[ğŸ»-ğŸ¿](?:â€[â™€â™‚]ï¸)?)?|ğŸ³(?:ï¸â€(?:âš§ï¸|ğŸŒˆ))?|ğŸ´(?:â€â˜ ï¸|ó §(?:ó ¢(?:ó ¥ó ®ó §|ó ³ó £ó ´)ó ¿)?)?|ğŸˆ(?:â€â¬›)?|ğŸ•(?:â€ğŸ¦º)?|ğŸ¦(?:â€[â¬›ğŸ”¥])?|ğŸ»(?:â€â„ï¸)?|ğŸ‘(?:ï¸â€ğŸ—¨ï¸)?|ğŸ‘¨(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨|ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?|[ğŸ‘¨ğŸ‘©]â€(?:ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?)|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³])|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ¼-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»ğŸ½-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»ğŸ¼ğŸ¾ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»-ğŸ½ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»-ğŸ¾]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|ğŸ‘©(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:[ğŸ‘¨ğŸ‘©]|ğŸ’‹â€[ğŸ‘¨ğŸ‘©])|ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?|ğŸ‘©â€(?:ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?)|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³])|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ¼-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»ğŸ½-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»ğŸ¼ğŸ¾ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ½ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¾]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|[ğŸ‘¯ğŸ¤¼ğŸ§ğŸ§Ÿ](?:â€[â™€â™‚]ï¸)?|ğŸ˜®(?:â€ğŸ’¨)?|ğŸ˜µ(?:â€ğŸ’«)?|ğŸ˜¶(?:â€ğŸŒ«ï¸)?|ğŸ™‚(?:â€[â†”â†•]ï¸)?|ğŸ§‘(?:â€(?:[âš•âš–âœˆ]ï¸|ğŸ¤â€ğŸ§‘|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]|(?:ğŸ§‘â€)?ğŸ§’(?:â€ğŸ§’)?)|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ¼-ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»ğŸ½-ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»ğŸ¼ğŸ¾ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»-ğŸ½ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»-ğŸ¾]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|[Â©Â®â€¼â‰â„¢â„¹â†”-â†™â†©â†ªâŒšâŒ›âŒ¨ââ©-â³â¸-âºâ“‚â–ªâ–«â–¶â—€â—»-â—¾â˜€-â˜„â˜â˜‘â˜”â˜•â˜˜â˜ â˜¢â˜£â˜¦â˜ªâ˜®â˜¯â˜¸-â˜ºâ™€â™‚â™ˆ-â™“â™Ÿâ™ â™£â™¥â™¦â™¨â™»â™¾â™¿âš’-âš—âš™âš›âšœâš âš¡âš§âšªâš«âš°âš±âš½âš¾â›„â›…â›ˆâ›â›â›‘â›”â›©â›ªâ›°-â›µâ›·â›¸â›ºâ›½âœ‚âœ…âœˆâœ‰âœâœ’âœ”âœ–âœâœ¡âœ¨âœ³âœ´â„â‡âŒââ“-â•â—â£â•-â—â¡â°â¿â¤´â¤µâ¬…-â¬‡â¬›â¬œâ­â­•ã€°ã€½ãŠ—ãŠ™ğŸ€„ğŸƒğŸ…°ğŸ…±ğŸ…¾ğŸ…¿ğŸ†ğŸ†‘-ğŸ†šğŸˆğŸˆ‚ğŸˆšğŸˆ¯ğŸˆ²-ğŸˆºğŸ‰ğŸ‰‘ğŸŒ€-ğŸŒ¡ğŸŒ¤-ğŸƒğŸ…-ğŸŠğŸŒ-ğŸ„ğŸ†-ğŸ“ğŸ–ğŸ—ğŸ™-ğŸ›ğŸ-ğŸğŸ…ğŸ†ğŸˆğŸ‰ğŸ-ğŸ°ğŸµğŸ·-ğŸ‡ğŸ‰-ğŸ”ğŸ–-ğŸ¥ğŸ§-ğŸºğŸ¼-ğŸ‘€ğŸ‘„ğŸ‘…ğŸ‘‘-ğŸ‘¥ğŸ‘ªğŸ‘¹-ğŸ‘»ğŸ‘½-ğŸ’€ğŸ’„ğŸ’ˆ-ğŸ’ğŸ’ğŸ’’-ğŸ’©ğŸ’«-ğŸ“½ğŸ“¿-ğŸ”½ğŸ•‰-ğŸ•ğŸ•-ğŸ•§ğŸ•¯ğŸ•°ğŸ•³ğŸ•¶-ğŸ•¹ğŸ–‡ğŸ–Š-ğŸ–ğŸ–¤ğŸ–¥ğŸ–¨ğŸ–±ğŸ–²ğŸ–¼ğŸ—‚-ğŸ—„ğŸ—‘-ğŸ—“ğŸ—œ-ğŸ—ğŸ—¡ğŸ—£ğŸ—¨ğŸ—¯ğŸ—³ğŸ—º-ğŸ˜­ğŸ˜¯-ğŸ˜´ğŸ˜·-ğŸ™ğŸ™ƒğŸ™„ğŸ™ˆ-ğŸ™ŠğŸš€-ğŸš¢ğŸš¤-ğŸš³ğŸš·-ğŸš¿ğŸ›-ğŸ›…ğŸ›‹ğŸ›-ğŸ›’ğŸ›•-ğŸ›—ğŸ›œ-ğŸ›¥ğŸ›©ğŸ›«ğŸ›¬ğŸ›°ğŸ›³-ğŸ›¼ğŸŸ -ğŸŸ«ğŸŸ°ğŸ¤ğŸ¤ğŸ¤-ğŸ¤—ğŸ¤ -ğŸ¤¥ğŸ¤§-ğŸ¤¯ğŸ¤ºğŸ¤¿-ğŸ¥…ğŸ¥‡-ğŸ¥¶ğŸ¥¸-ğŸ¦´ğŸ¦·ğŸ¦ºğŸ¦¼-ğŸ§ŒğŸ§ğŸ§ -ğŸ§¿ğŸ©°-ğŸ©¼ğŸª€-ğŸªˆğŸª-ğŸª½ğŸª¿-ğŸ«‚ğŸ«-ğŸ«›ğŸ« -ğŸ«¨]|ğŸ«±(?:ğŸ»(?:â€ğŸ«²[ğŸ¼-ğŸ¿])?|ğŸ¼(?:â€ğŸ«²[ğŸ»ğŸ½-ğŸ¿])?|ğŸ½(?:â€ğŸ«²[ğŸ»ğŸ¼ğŸ¾ğŸ¿])?|ğŸ¾(?:â€ğŸ«²[ğŸ»-ğŸ½ğŸ¿])?|ğŸ¿(?:â€ğŸ«²[ğŸ»-ğŸ¾])?)?)+"
        text = re.sub(emojis, "", text)


        #unused
        # accents = re.compile(r'[\u064b-\u0652\u0640]') # harakaat and tatweel (kashida) to remove

        # arabic_punc= re.compile(r'[\u0621-\u063A\u0641-\u064A\d+]+') # Keep only Arabic letters/do not remove numbers
        # text=' '.join(arabic_punc.findall(accents.sub('',text)))
        text = text.strip()
        return text

def clean_text_custom(text):
    if (text is None) or (text is np.nan) or (text == ""):
        return ""
    else:
        text = re.sub(r"\n", " ", text) # remove line breaks
        text = re.sub(r"\r", " ", text) # remove line breaks
    
        text = re.sub(r"\u201c", "\'", text)  # replace â€œ character with single quote
        text = re.sub(r"\u201d", "\'", text)  # replace â€ character with single quote
        text = re.sub(r"\u2018", "\'", text)  # replace â€˜ character with single quote
        text = re.sub(r"\u2019", "\'", text)  # replace â€™ character with single quote
        text = re.sub(r'\"', "\'", text)      # replace double quotes with single quotes
        
        text = re.sub(r"http\S+[^\']", " ", text) # remove t.co urls: t.co shortened urls see https://help.twitter.com/en/using-x/how-to-post-a-link
        text = re.sub(r"RT @\w+:", "", text) # remove the pattern "RT @<username>:", but keep other usernames in the tweet, @ gets removed later
        
        # TODO: does this improve results? hashtags sometimes contain important information; see e.g. rumor AuRED_104 
        text = re.sub(r"[\.\,\|\?\?\/\=\#\@\_\t]", " ", text)  # remove special characters; also remves the # and @ but leaves the text of a hashtag or username

        text = re.sub(r'\s\:', " ", text)   # remove " :" pattern that sometimes gets "left behind" by the previous regexes

        # remove emojis; for info and updates as more emojis are released see: https://stackoverflow.com/questions/33404752/removing-emojis-from-a-string-in-python
        emojis = r"(?:[0-9#*]ï¸âƒ£|[â˜âœŠ-âœğŸ…ğŸ‚ğŸ‡ğŸ‘‚ğŸ‘ƒğŸ‘†-ğŸ‘ğŸ‘¦ğŸ‘§ğŸ‘«-ğŸ‘­ğŸ‘²ğŸ‘´-ğŸ‘¶ğŸ‘¸ğŸ‘¼ğŸ’ƒğŸ’…ğŸ’ğŸ’‘ğŸ’ªğŸ•´ğŸ•ºğŸ–ğŸ–•ğŸ––ğŸ™ŒğŸ™ğŸ›€ğŸ›ŒğŸ¤ŒğŸ¤ğŸ¤˜-ğŸ¤ŸğŸ¤°-ğŸ¤´ğŸ¤¶ğŸ¥·ğŸ¦µğŸ¦¶ğŸ¦»ğŸ§’ğŸ§“ğŸ§•ğŸ«ƒ-ğŸ«…ğŸ«°ğŸ«²-ğŸ«¸][ğŸ»-ğŸ¿]?|â›“(?:ï¸â€ğŸ’¥)?|[â›¹ğŸ‹ğŸŒğŸ•µ](?:ï¸â€[â™€â™‚]ï¸|[ğŸ»-ğŸ¿](?:â€[â™€â™‚]ï¸)?)?|â¤(?:ï¸â€[ğŸ”¥ğŸ©¹])?|ğŸ‡¦[ğŸ‡¨-ğŸ‡¬ğŸ‡®ğŸ‡±ğŸ‡²ğŸ‡´ğŸ‡¶-ğŸ‡ºğŸ‡¼ğŸ‡½ğŸ‡¿]|ğŸ‡§[ğŸ‡¦ğŸ‡§ğŸ‡©-ğŸ‡¯ğŸ‡±-ğŸ‡´ğŸ‡¶-ğŸ‡¹ğŸ‡»ğŸ‡¼ğŸ‡¾ğŸ‡¿]|ğŸ‡¨[ğŸ‡¦ğŸ‡¨ğŸ‡©ğŸ‡«-ğŸ‡®ğŸ‡°-ğŸ‡µğŸ‡·ğŸ‡º-ğŸ‡¿]|ğŸ‡©[ğŸ‡ªğŸ‡¬ğŸ‡¯ğŸ‡°ğŸ‡²ğŸ‡´ğŸ‡¿]|ğŸ‡ª[ğŸ‡¦ğŸ‡¨ğŸ‡ªğŸ‡¬ğŸ‡­ğŸ‡·-ğŸ‡º]|ğŸ‡«[ğŸ‡®-ğŸ‡°ğŸ‡²ğŸ‡´ğŸ‡·]|ğŸ‡¬[ğŸ‡¦ğŸ‡§ğŸ‡©-ğŸ‡®ğŸ‡±-ğŸ‡³ğŸ‡µ-ğŸ‡ºğŸ‡¼ğŸ‡¾]|ğŸ‡­[ğŸ‡°ğŸ‡²ğŸ‡³ğŸ‡·ğŸ‡¹ğŸ‡º]|ğŸ‡®[ğŸ‡¨-ğŸ‡ªğŸ‡±-ğŸ‡´ğŸ‡¶-ğŸ‡¹]|ğŸ‡¯[ğŸ‡ªğŸ‡²ğŸ‡´ğŸ‡µ]|ğŸ‡°[ğŸ‡ªğŸ‡¬-ğŸ‡®ğŸ‡²ğŸ‡³ğŸ‡µğŸ‡·ğŸ‡¼ğŸ‡¾ğŸ‡¿]|ğŸ‡±[ğŸ‡¦-ğŸ‡¨ğŸ‡®ğŸ‡°ğŸ‡·-ğŸ‡»ğŸ‡¾]|ğŸ‡²[ğŸ‡¦ğŸ‡¨-ğŸ‡­ğŸ‡°-ğŸ‡¿]|ğŸ‡³[ğŸ‡¦ğŸ‡¨ğŸ‡ª-ğŸ‡¬ğŸ‡®ğŸ‡±ğŸ‡´ğŸ‡µğŸ‡·ğŸ‡ºğŸ‡¿]|ğŸ‡´ğŸ‡²|ğŸ‡µ[ğŸ‡¦ğŸ‡ª-ğŸ‡­ğŸ‡°-ğŸ‡³ğŸ‡·-ğŸ‡¹ğŸ‡¼ğŸ‡¾]|ğŸ‡¶ğŸ‡¦|ğŸ‡·[ğŸ‡ªğŸ‡´ğŸ‡¸ğŸ‡ºğŸ‡¼]|ğŸ‡¸[ğŸ‡¦-ğŸ‡ªğŸ‡¬-ğŸ‡´ğŸ‡·-ğŸ‡¹ğŸ‡»ğŸ‡½-ğŸ‡¿]|ğŸ‡¹[ğŸ‡¦ğŸ‡¨ğŸ‡©ğŸ‡«-ğŸ‡­ğŸ‡¯-ğŸ‡´ğŸ‡·ğŸ‡¹ğŸ‡»ğŸ‡¼ğŸ‡¿]|ğŸ‡º[ğŸ‡¦ğŸ‡¬ğŸ‡²ğŸ‡³ğŸ‡¸ğŸ‡¾ğŸ‡¿]|ğŸ‡»[ğŸ‡¦ğŸ‡¨ğŸ‡ªğŸ‡¬ğŸ‡®ğŸ‡³ğŸ‡º]|ğŸ‡¼[ğŸ‡«ğŸ‡¸]|ğŸ‡½ğŸ‡°|ğŸ‡¾[ğŸ‡ªğŸ‡¹]|ğŸ‡¿[ğŸ‡¦ğŸ‡²ğŸ‡¼]|ğŸ„(?:â€ğŸŸ«)?|ğŸ‹(?:â€ğŸŸ©)?|[ğŸƒğŸš¶ğŸ§](?:â€(?:[â™€â™‚]ï¸(?:â€â¡ï¸)?|â¡ï¸)|[ğŸ»-ğŸ¿](?:â€(?:[â™€â™‚]ï¸(?:â€â¡ï¸)?|â¡ï¸))?)?|[ğŸ„ğŸŠğŸ‘®ğŸ‘°ğŸ‘±ğŸ‘³ğŸ‘·ğŸ’ğŸ’‚ğŸ’†ğŸ’‡ğŸ™…-ğŸ™‡ğŸ™‹ğŸ™ğŸ™ğŸš£ğŸš´ğŸšµğŸ¤¦ğŸ¤µğŸ¤·-ğŸ¤¹ğŸ¤½ğŸ¤¾ğŸ¦¸ğŸ¦¹ğŸ§ğŸ§ğŸ§”ğŸ§–-ğŸ§](?:â€[â™€â™‚]ï¸|[ğŸ»-ğŸ¿](?:â€[â™€â™‚]ï¸)?)?|ğŸ³(?:ï¸â€(?:âš§ï¸|ğŸŒˆ))?|ğŸ´(?:â€â˜ ï¸|ó §(?:ó ¢(?:ó ¥ó ®ó §|ó ³ó £ó ´)ó ¿)?)?|ğŸˆ(?:â€â¬›)?|ğŸ•(?:â€ğŸ¦º)?|ğŸ¦(?:â€[â¬›ğŸ”¥])?|ğŸ»(?:â€â„ï¸)?|ğŸ‘(?:ï¸â€ğŸ—¨ï¸)?|ğŸ‘¨(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨|ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?|[ğŸ‘¨ğŸ‘©]â€(?:ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?)|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³])|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ¼-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»ğŸ½-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»ğŸ¼ğŸ¾ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»-ğŸ½ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ‘¨[ğŸ»-ğŸ¿]|ğŸ¤â€ğŸ‘¨[ğŸ»-ğŸ¾]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|ğŸ‘©(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:[ğŸ‘¨ğŸ‘©]|ğŸ’‹â€[ğŸ‘¨ğŸ‘©])|ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?|ğŸ‘©â€(?:ğŸ‘¦(?:â€ğŸ‘¦)?|ğŸ‘§(?:â€[ğŸ‘¦ğŸ‘§])?)|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³])|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ¼-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»ğŸ½-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»ğŸ¼ğŸ¾ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ½ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¿]|ğŸ¤â€[ğŸ‘¨ğŸ‘©][ğŸ»-ğŸ¾]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|[ğŸ‘¯ğŸ¤¼ğŸ§ğŸ§Ÿ](?:â€[â™€â™‚]ï¸)?|ğŸ˜®(?:â€ğŸ’¨)?|ğŸ˜µ(?:â€ğŸ’«)?|ğŸ˜¶(?:â€ğŸŒ«ï¸)?|ğŸ™‚(?:â€[â†”â†•]ï¸)?|ğŸ§‘(?:â€(?:[âš•âš–âœˆ]ï¸|ğŸ¤â€ğŸ§‘|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]|(?:ğŸ§‘â€)?ğŸ§’(?:â€ğŸ§’)?)|ğŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ¼-ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»ğŸ½-ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»ğŸ¼ğŸ¾ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»-ğŸ½ğŸ¿]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?|ğŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ğŸ’‹â€)?ğŸ§‘[ğŸ»-ğŸ¾]|ğŸ¤â€ğŸ§‘[ğŸ»-ğŸ¿]|[ğŸ¦¯ğŸ¦¼ğŸ¦½](?:â€â¡ï¸)?|[ğŸŒ¾ğŸ³ğŸ¼ğŸ„ğŸ“ğŸ¤ğŸ¨ğŸ«ğŸ­ğŸ’»ğŸ’¼ğŸ”§ğŸ”¬ğŸš€ğŸš’ğŸ¦°-ğŸ¦³]))?)?|[Â©Â®â€¼â‰â„¢â„¹â†”-â†™â†©â†ªâŒšâŒ›âŒ¨ââ©-â³â¸-âºâ“‚â–ªâ–«â–¶â—€â—»-â—¾â˜€-â˜„â˜â˜‘â˜”â˜•â˜˜â˜ â˜¢â˜£â˜¦â˜ªâ˜®â˜¯â˜¸-â˜ºâ™€â™‚â™ˆ-â™“â™Ÿâ™ â™£â™¥â™¦â™¨â™»â™¾â™¿âš’-âš—âš™âš›âšœâš âš¡âš§âšªâš«âš°âš±âš½âš¾â›„â›…â›ˆâ›â›â›‘â›”â›©â›ªâ›°-â›µâ›·â›¸â›ºâ›½âœ‚âœ…âœˆâœ‰âœâœ’âœ”âœ–âœâœ¡âœ¨âœ³âœ´â„â‡âŒââ“-â•â—â£â•-â—â¡â°â¿â¤´â¤µâ¬…-â¬‡â¬›â¬œâ­â­•ã€°ã€½ãŠ—ãŠ™ğŸ€„ğŸƒğŸ…°ğŸ…±ğŸ…¾ğŸ…¿ğŸ†ğŸ†‘-ğŸ†šğŸˆğŸˆ‚ğŸˆšğŸˆ¯ğŸˆ²-ğŸˆºğŸ‰ğŸ‰‘ğŸŒ€-ğŸŒ¡ğŸŒ¤-ğŸƒğŸ…-ğŸŠğŸŒ-ğŸ„ğŸ†-ğŸ“ğŸ–ğŸ—ğŸ™-ğŸ›ğŸ-ğŸğŸ…ğŸ†ğŸˆğŸ‰ğŸ-ğŸ°ğŸµğŸ·-ğŸ‡ğŸ‰-ğŸ”ğŸ–-ğŸ¥ğŸ§-ğŸºğŸ¼-ğŸ‘€ğŸ‘„ğŸ‘…ğŸ‘‘-ğŸ‘¥ğŸ‘ªğŸ‘¹-ğŸ‘»ğŸ‘½-ğŸ’€ğŸ’„ğŸ’ˆ-ğŸ’ğŸ’ğŸ’’-ğŸ’©ğŸ’«-ğŸ“½ğŸ“¿-ğŸ”½ğŸ•‰-ğŸ•ğŸ•-ğŸ•§ğŸ•¯ğŸ•°ğŸ•³ğŸ•¶-ğŸ•¹ğŸ–‡ğŸ–Š-ğŸ–ğŸ–¤ğŸ–¥ğŸ–¨ğŸ–±ğŸ–²ğŸ–¼ğŸ—‚-ğŸ—„ğŸ—‘-ğŸ—“ğŸ—œ-ğŸ—ğŸ—¡ğŸ—£ğŸ—¨ğŸ—¯ğŸ—³ğŸ—º-ğŸ˜­ğŸ˜¯-ğŸ˜´ğŸ˜·-ğŸ™ğŸ™ƒğŸ™„ğŸ™ˆ-ğŸ™ŠğŸš€-ğŸš¢ğŸš¤-ğŸš³ğŸš·-ğŸš¿ğŸ›-ğŸ›…ğŸ›‹ğŸ›-ğŸ›’ğŸ›•-ğŸ›—ğŸ›œ-ğŸ›¥ğŸ›©ğŸ›«ğŸ›¬ğŸ›°ğŸ›³-ğŸ›¼ğŸŸ -ğŸŸ«ğŸŸ°ğŸ¤ğŸ¤ğŸ¤-ğŸ¤—ğŸ¤ -ğŸ¤¥ğŸ¤§-ğŸ¤¯ğŸ¤ºğŸ¤¿-ğŸ¥…ğŸ¥‡-ğŸ¥¶ğŸ¥¸-ğŸ¦´ğŸ¦·ğŸ¦ºğŸ¦¼-ğŸ§ŒğŸ§ğŸ§ -ğŸ§¿ğŸ©°-ğŸ©¼ğŸª€-ğŸªˆğŸª-ğŸª½ğŸª¿-ğŸ«‚ğŸ«-ğŸ«›ğŸ« -ğŸ«¨]|ğŸ«±(?:ğŸ»(?:â€ğŸ«²[ğŸ¼-ğŸ¿])?|ğŸ¼(?:â€ğŸ«²[ğŸ»ğŸ½-ğŸ¿])?|ğŸ½(?:â€ğŸ«²[ğŸ»ğŸ¼ğŸ¾ğŸ¿])?|ğŸ¾(?:â€ğŸ«²[ğŸ»-ğŸ½ğŸ¿])?|ğŸ¿(?:â€ğŸ«²[ğŸ»-ğŸ¾])?)?)+"
        text = re.sub(emojis, " ", text)

        text = re.sub(' +', ' ', text).strip() # replace multiple spaces with single space

        return text
    
if __name__ == "__main__":
    test_texts = [
        "RT @johndoe: This is a test.",
        "This is a test.",
        "This is a test. #hashtag",
        "This is a test. @johndoe",
        "This is a test. @johndoe #hashtag",
        "This is a test. @johndoe #hashtag @johndoe",
        "ISSUE: couldn't translate",
        "ğŸ”´ | Referees for Saturday's matches in the Premier League... â¬‡ï¸â¬‡ï¸ #EFA https://t.co/IV7MVjEARN",
        "ğŸ“½ï¸ Watch the Deputy Chairman of Hamas in the Gaza Strip, Dr\n. Khalil Al-Hayya, in a special interview on Al-Aqsa satellite channel: UAE normalization came at a suspicious time when the occupation was encroaching on land and sanctities. It also constituted a shock to the Palestinian people and a rescue operation for Netanyahu from his internal crises https://t.co/9v6Ltnlic5",
        "â€œâ–ªï¸ Sheikh Dr. Youssef Al-Qaradawi @alqaradawy: â€œWe call on the nation to support the stationed in Al-Aqsa and the resistance men in Gaza, as they are defending the sanctity and dignity of Muslims in the face of an arrogant Zionist Zionist enemy.â€ #Gaza_under_the_bombing",
        '"The Minister of Health discusses with the German company Siemens the transfer of modern technology to support the health sector in Egypt https://t.co/ZZR1dCKqIj"'

    ]
    for text in test_texts:
        print(clean_text_custom(text))